# AdaptLight RASPi Configuration

# Device identity (for Supabase logging)
device:
  id: lamp1  # Change this for each device (lamp1, lamp2, etc.)

# Brain settings (passed to Brain())
brain:
  mode: agent                    # 'agent' (Claude multi-turn) or 'parser' (OpenAI single-shot)
  model: claude-sonnet-4-5-20250929 #claude-haiku-4-5-20251001
  prompt_variant: examples       # 'concise' or 'examples'
  max_turns: 10
  verbose: false

# API keys (loaded from environment or set here)
anthropic:
  api_key: ${ANTHROPIC_API_KEY}

openai:
  api_key: ${OPENAI_API_KEY}

replicate:
  api_token: ${REPLICATE_API_TOKEN}

# Hardware (RASPi-specific)
hardware:
  led_type: cob_serial           # 'neopixel', 'cob' (GPIO PWM), or 'cob_serial' (Arduino)
  led_count: 16
  led_brightness: 0.3
  button_pin: 23
  record_button_pin: 17
  led_pin: 2

  # Feedback buttons (Yes/No for Supabase logging)
  feedback_yes_pin: 24
  feedback_no_pin: 25


  # COB LED GPIO PWM pins (for led_type: cob)
  cob_red_pin: 12
  cob_green_pin: 13
  cob_blue_pin: 19
  cob_max_duty_cycle: 2.0
  cob_pwm_frequency: 1000

  # COB LED Serial settings (for led_type: cob_serial)
  cob_serial_port: /dev/ttyAMA0
  cob_serial_baudrate: 115200

# Reactive lights (NeoPixel for voice feedback)
reactive_lights:
  enabled: true
  type: neopixel
  led_count: 35
  spi_bus: 1                       # 0 = SPI0 (GPIO10), 1 = SPI1 (GPIO20)
  brightness: 0.5

# Voice input
voice:
  enabled: true
  stt_provider: replicate        # 'whisper' or 'replicate'

# Text-to-speech output
speech:
  enabled: true
  provider: openai               # 'openai' or 'edge'
  voice: nova                    # OpenAI: alloy, echo, fable, onyx, nova, shimmer
  instructions: |
    Your response message will be spoken aloud. Keep it under 1 sentences.
    VERY VEYR IMPORTANT:Be direct. Explain what you did technially. Explaing only the crucial information.
    KEEP IT UNDER 1 SENTENCE.
    Example: "Done, I've set it to warm orange" or "Party mode is on, now it will change colors", "stock up is red, down is green, yellow means no change."

# Button timing
button:
  double_click_threshold: 0.2
  hold_threshold: 0.5
  bounce_time: 0.05

# Logging
logging:
  enabled: true
  log_dir: data/logs
  aws_enabled: false

# State machine
state_machine:
  default_state: off
  save_state: true
  state_file: data/state.json

# Storage
storage:
  dir: data/storage              # Directory for memory and pipelines
